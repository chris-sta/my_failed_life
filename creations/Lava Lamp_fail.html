<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Lava Lamp_fail</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html, body {
    margin:0;
    padding:0;
    width:100%;
    height:100%;
    background:#111;
    overflow:hidden;
}
canvas {
    display:block;
}
</style>
    <link rel="stylesheet" href="../styles/counter.css">
</head>
<body>
<canvas id="lava"></canvas>
<script>
const canvas = document.getElementById("lava");
const ctx = canvas.getContext("2d");

let w,h;
function resize(){
    w=canvas.width=window.innerWidth;
    h=canvas.height=window.innerHeight;
}
window.addEventListener("resize",resize);
resize();

class Blob {
    constructor(x,y,r,color){
        this.x = x;
        this.y = y;
        this.r = r;
        this.color = color;
        this.vy = 0;
        this.acc = 0.02 + Math.random()*0.02;
        this.phase = Math.random()*Math.PI*2;
    }
    update() {
        this.vy += this.acc;
        this.y -= this.vy;
        if(this.y < this.r || this.y > h - this.r) {
            this.vy *= -0.9;
        }
        this.x += Math.sin(this.phase + this.y*0.01)*0.5;
    }
    draw(ctx){
        const grad = ctx.createRadialGradient(this.x, this.y, this.r*0.2, this.x, this.y, this.r);
        grad.addColorStop(0,'#fff');
        grad.addColorStop(0.3, this.color);
        grad.addColorStop(1,'rgba(0,0,0,0)');
        ctx.fillStyle = grad;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.r, 0, Math.PI*2);
        ctx.fill();
    }
}

const blobs = [];
const colors = ['#FF2D00','#FF6A00','#FFAA00','#FF4500','#FF0000'];
for(let i=0;i<10;i++){
    blobs.push(new Blob(
        w*0.5 + (Math.random()-0.5)*100,
        h*0.8 + Math.random()*50,
        30 + Math.random()*25,
        colors[Math.floor(Math.random()*colors.length)]
    ));
}

function drawLamp(){
    ctx.clearRect(0,0,w,h);

    const lampGrad = ctx.createRadialGradient(w/2,h*0.75,50,w/2,h*0.75,h*0.8);
    lampGrad.addColorStop(0,'rgba(255,120,30,0.2)');
    lampGrad.addColorStop(1,'rgba(0,0,0,0.4)');
    ctx.fillStyle = lampGrad;
    ctx.fillRect(0,0,w,h);

    for(let b of blobs){
        b.update();
        b.draw(ctx);
    }

    requestAnimationFrame(drawLamp);
}

drawLamp();
</script>

<div class="page-counter">9/27</div>
<div class="page-buttons">
    <button onclick="location.href='https://chris-sta.github.io/my_failed_life/index.html'">
        Home
    </button>
    <button onclick="location.href='https://chris-sta.github.io/my_failed_life/inventory.html'">
        Inventory
    </button>
</div>

</body>
</html>
